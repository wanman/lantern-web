---
id: "channels"
---

extends ../_layouts/_master.pug

block content
    #channels-view

        h1(v-if="personalizing" v-cloak) Personalizing Map
        h1(v-if="!personalizing" v-cloak) What do you need most?

        div(v-bind:style="personalizing ? 'visibility: hidden' : ''")
            h2(v-cloak v-if="!lantern_connected && !cloud_connected") 
                | Connect to a Lantern to send data
            h2(v-cloak v-if="(lantern_connected || cloud_connected) && u_docs.length >= 2") 
                | {{ pluralize(u_docs.length - 1) }} Listening
            h2(v-cloak v-if="(lantern_connected || cloud_connected) && u_docs.length <= 1") 
                | Waiting for Users To Join Network

        ul.item-list(v-cloak)
            li.item(
                v-for="cat in item_categories" 
                v-bind:id="cat._id" 
                v-bind:class="makeCategoryClass(cat)"
               @click="toggleCategory" 
                )
                    span.icon.is-large(
                    v-bind:style="makeCategoryStyle(cat)"
                    ) 
                        i(v-bind:class="makeCategoryIconClass(cat)")


                    .title {{ cat.title }}
                
block styles
    link(rel="stylesheet" type="text/css" href="/channels/channels.css")

block scripts
    script(src="/channels/channels.js")
